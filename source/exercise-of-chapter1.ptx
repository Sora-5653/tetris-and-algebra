<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="exercise-of-chapter1" xmlns:xi="http://www.w3.org/2001/XInclude">
    <title>第1章の演習問題と略解</title>
    <exercises xml:id="exercises-chapter1">
        <exercise>
            <statement>
                <p>
                    <m>\mathbb Rから\mathbb R</m>への全単射の例を3つ挙げよ。
                </p>
            </statement>
            <answer>
                <p>
                    <ol>
                        <li>
                            <p>
                                <m>y=ax+b</m>
                            </p>
                        </li>
                        <li>
                            <p>
                                <m>y=x^{2n+1}</m>
                            </p>
                        </li>
                        <li>
                            <p>
                                <m>\sinh (x)=\frac{e^x+x^{-x}}{2}</m>
                            </p>
                        </li>
                    </ol>
                </p>
            </answer>
        </exercise>
        <exercise>
            <statement>
                <p>
                    全射、単射の定義を「送られる」とか「送られてくる」というような言葉を使って表現せよ。それと全射、単射の定義を照らし合わせ、形式的な定義で何を言おうとしているのかを掴め。
                </p>
            </statement>
            <answer>
                <p>
                    単射は、値域における2つの元が等しくないならば、それぞれ違う元から送られてきていること。
                </p>
                <p>
                    全射は、値域の元を任意に取ると、それに送るような定義域の元が存在すること。
                </p>
            </answer>
        </exercise>
        <exercise>
            <statement>
                <p>
                    <m>f:A\to B</m>が全単射であることと、<m>f</m>が逆写像<m>g</m>を持つ(<m>g\circ f=\mathrm{id}_Aかつf \circ g=\mathrm{id}_B</m>、なお<m>\mathrm{id}</m>は入力と出力が一致する写像)ことが同値であることを証明せよ。
                </p>
            </statement>
            <hint>
                <p>
                    同値を示す問題は、まず落ち着いて<m>\implies</m>と<m>\impliedby</m>それぞれの場合に、使える仮定と示すべき目標点を明確にすることから始めよ。
                </p>
                <p>    
                    この場合、<m>\implies</m>側の仮定は単射であること(<m>f(a)\neq f(b)\implies a\neq b</m>)と全射であること(<m>\forall b\in B, \exists a, f(a)=b</m>)である。示すべき目標は合成写像が元<m>a</m>を動かさないことだから、まず具体的な元を<m>A</m>から取って考えてみればよいであろう。逆も同様にして考えよ。
                </p>
            </hint>
        </exercise>
        <exercise>
            <statement>
                <p>
                    写像<m>f:A\to B</m>を考える。任意の部分集合<m>S\subset B</m>について、<ol>
                        <li>
                            <p>
                                <m>f^{-1}(f(f^{-1}(S)))=f^{-1}(S)</m>であること
                            </p>
                        </li>
                        <li>
                            <p>
                                <m>f</m>が全射であることと、<m>f(f^{-1}(S))=S</m>であることが同値なこと
                            </p>
                        </li>
                    </ol>
                    を証明せよ。
                </p>
            </statement>
            <answer>
                <p>
                    <ol>
                        <li>
                            <p>
                                内包表記で書き下す。<m>f^{-1}(f(X))=\{a\in A; \forall x\in f(X), f(a)=f(x)\}=X</m>である。これを問題に適用して<m>f^{-1}(f(f^{-1}(S)))=f^{-1}(S)</m>を得る。
                            </p>
                        </li>
                        <li>
                            <p><ol>
                                <li>
                                    <p>
                                <m>\implies: f</m>が全射なら<m>s\in S</m>に対して<m>a\in Aがあり、f(a)=s</m>である。よって<m>s\in f(f^{-1}(S))</m>である。逆に<m>s\in f(f^{-1}(S))</m>に対しても<m>f(a)=sとなるa\in A</m>があり、<m>a\in f^{-1}(S), f(a)=s\in S</m>なので等号がわかる。
                                    </p>
                            </li>
                                <li>
                                    <p>
                                        <m>\impliedby: f(f^{-1}(S))=S</m>は空でないと仮定してよい(空なら命題が意味をもたない)。<m>f(\emptyset)=\emptyset</m>にしかなり得ないことを考えると、逆像が空ではないので全射性がわかる。
                                    </p>
                                </li>
                            </ol>
                            </p>
                        </li>
                    </ol>
                </p>
            </answer>
        </exercise>
        <exercise>
            <statement>
                <p>
                    well-definednessが問題になる状況を挙げよ。
                </p>
            </statement>
            <answer>
                <p>
                    例えば<m>f: \mathbb Q \to \mathbb Z</m>(<m>\mathbb Z</m>は整数のこと)で、有理数<m>\frac{a}{b}</m>の分母と分子の和を返す写像として定義したいとしよう。<m>\frac{1}{2}=\frac{2}{4}=\frac{3}{6}=\cdots</m>なので、この<m>f</m>は1つの有理数に対して無数に像ができることになる。これはwell-definednessが問題になる例の一つである。
                </p>
            </answer>
        </exercise>
        <exercise>
            <statement>
                <p>
                    <m>|A|=|A'|かつ|B|=|B'|</m>ならば<m>|A\times B|=|A' \times B'|</m>であることを示せ。
                </p>
            </statement>
            <hint>
                <p>
                    全単射を構成することを考えよう。直積というのは順序対の全体であることを思い出して、命題2.2.2の証明での構成を参考にせよ。
                </p>
            </hint>
            <answer>
                <p>
                    <m>a\in A, b\in B</m>に対して、<m>A\times B</m>の元は<m>(a,b)</m>という形になっているのであった。仮定より、全単射<m>f:A\to A', g:B\to B'</m>が与えられている。
                    <m>\pi: A\times B</m>を<m>(a, b)\mapsto (f(a), g(b))</m>で定義すれば、これは明らかに全単射である。実際、<m>\pi(a,b)\neq \pi(a',b')</m>なら<m>(f(a),g(b))\neq (f(a'),g(b'))</m>であり、
                    <m>f,g</m>は単射でもあるので<m>\pi</m>の単射性が成り立つ。全射性も同様にして、<m>f,g</m>が全射であることから、<m>\pi</m>の逆像が空になる元は存在しないので全射性も言える。
                </p>
            </answer>
        </exercise>
        <exercise>
            <statement>
                <p>
                    仮定<m>\implies</m>結論 という命題において、仮定が誤っているならば、数学で通常用いる論理体系では結論は常に真である。例えば部屋にスマホがあるなら、その電源は切れているという命題を考える。
                    この状況で仮定が偽、つまり部屋にスマホが存在しない状況を考えれば、電源の入ったスマートフォンは部屋に存在しない。したがってこの命題は真となる。
                    この現象を「空虚な真」と呼ぶ。これを使って、「空集合が任意の集合の部分集合である」ことを証明せよ。
                </p>
            </statement>
            <answer>
                <p>
                    空集合から元は取れないので、部分集合の定義である<me>x\in\emptyset \implies A</me>という論理式は空虚な真により常に真である。
                </p>
            </answer>
        </exercise>
    </exercises>
</section>