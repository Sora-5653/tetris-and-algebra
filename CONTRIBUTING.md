# 貢献ガイドライン

この度は、このオンライン教科書プロジェクトへの貢献に関心をお寄せいただき、誠に感謝申し上げる。本書は、学習者コミュニティ全体の協力によって、より良いものへと発展していく。

本ガイドラインは、円滑な共同作業を実現するために、貢献に際して留意いただきたい事項をまとめたものである。

---

## 貢献の種類

本書への貢献には、以下のような形態が考えられる。いかなる貢献も歓迎する。

- **誤字脱字の報告:** テキストや数式における誤植の指摘。
- **内容の誤りの指摘:** 数学的な記述の誤りや、より正確な表現への修正提案。
- **改善提案:** 解説の分かりやすさ向上、図版の追加、演習問題の改善に関する提案。
- **新たなコンテンツの追加:** 新しい節、例、演習問題などの追加。

---

## 報告と提案の方法 (Issue)

誤字脱字の報告や改善提案は、GitHubの **Issues** を通じて行うことを原則とする。

1.  **既存のIssueの確認:** 同様の内容が既に報告されていないかを確認する。
2.  **新規Issueの作成:** 適切なテンプレートを選択し、以下の情報を含めて具体的に記述する。
    - **報告の種類:** (例: 誤字報告, 改善提案)
    - **該当箇所:** 章番号、節番号、ページURLなど、問題の箇所を特定できる情報。
    - **詳細な説明:** 問題の内容と、可能であれば修正案を記述する。

---

## 開発環境の構築 (PreTeXtbook)

本書のソースコードに直接変更を加える場合、以下の手順で開発環境を構築する必要がある。本書はPreTeXtbookフレームワークを利用して構築されている。

1.  **リポジトリのフォークとクローン:**
    - 当リポジトリを自身のGitHubアカウントにフォーク（Fork）する。
    - フォークしたリポジトリをローカル環境にクローン（Clone）する。
      ```bash
      git clone https://github.com/Sora-5653/tetris-alg.git
      cd tetris-alg
      ```

2.  **PreTeXtbook CLIの導入:**
    - 本プロジェクトはPython環境に依存する。Pythonおよびpipが利用可能であることを確認の上、以下のコマンドでPreTeXtbookのコマンドラインツールを導入する。
      ```bash
      pip install pretext
      ```

3.  **ビルドとプレビュー:**
    - ソースファイルを編集後、以下のコマンドでHTMLファイルをビルドする。
      ```bash
      pretext build web
      ```
    - ビルドした内容をローカルサーバーで確認する。
      ```bash
      pretext view
      ```
    - `pretext view` を実行すると、ウェブブラウザでプレビュー用のURLが開かれる。

---

## 修正とプルリクエスト (Pull Request) の手順

具体的な修正作業は、以下のワークフローに従って進めるものとする。

1.  **ブランチの作成:**
    - 常に `main` ブランチから、変更内容に応じた名前のブランチを新たに作成する。
      ```bash
      git checkout -b feature/brief-description-of-change
      ```

2.  **ソースファイルの編集:**
    - 本書のコンテンツは `source` ディレクトリ内のXMLファイル (`.ptx`) で管理されている。これらのファイルを編集する。
    - PreTeXtbookの記法に従い、構造的な整合性を保つよう留意されたい。なお、原則としてソースファイルは

    ```
  source/
  ├── main.ptx
  ├── part1.ptx
  ├── part2.ptx
  ├── sections/
  │ ├──logic-and-sets.ptx
  │ ├──well-definedness.ptx
  │ └── ...
  └── ...
    ```
    という構造になっていることを念頭におかれたい。

3.  **コミット:**
    - 変更内容をステージングし、コミットする。コミットメッセージは、変更の意図が明確に伝わるように記述することを推奨する。
      ```bash
      git add .
      git commit -m "fix(ch02): 2.3節のイデアルの定義を修正"
      ```

4.  **プッシュ:**
    - 作成したブランチを、自身のフォークしたリポジトリにプッシュする。
      ```bash
      git push origin feature/brief-description-of-change
      ```

5.  **プルリクエストの作成:**
    - GitHub上で、フォークしたリポジトリから当リポジトリの `main` ブランチに対してプルリクエストを作成する。
    - プルリクエストのテンプレートに従い、変更の概要、目的、関連するIssue番号などを明記する。

---

## 行動規範

本プロジェクトに参加する全ての者は、敬意と思いやりを持った建設的なコミュニケーションを心がけなければならない。

---

本ガイドラインに対する質問や提案がある場合は、遠慮なくIssueにて提起されたい。皆様の貢献に心より感謝する。